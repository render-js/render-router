/**
 * 此函数用于解析自定义元素salt
 * @param tagTemplate
 * @param controller
 */
export function parse_directive_salt_collect(tagTemplate, controller) {
    if (tagTemplate.hasChildNodes()) {
        // @ts-ignore
        var list = tagTemplate.querySelectorAll("salt");
        if (list.length !== 0) {
            list.forEach(function (value) {
                if (value.hasAttribute("name"))
                    controller.salt.set(value.getAttribute("name"), value.innerHTML);
                else
                    controller.salt.set("default", value.innerHTML);
            });
        }
        else {
            // @ts-ignore
            controller.salt.set("default", tagTemplate.innerHTML);
        }
    }
}
/**
 * 此函数用于展开salt
 * @param elements
 * @param controller
 */
export function parse_directive_salt_extract(elements, controller) {
    for (var i = 0; i < elements.length; i++) {
        var result = elements[i].hasAttribute("@salt");
        if (result) {
            var dataName = elements[i].getAttribute("@salt");
            elements[i].removeAttribute("@salt");
            if (!dataName) {
                elements[i].innerHTML = controller.salt.get("default");
            }
            else {
                // @ts-ignore
                elements[i].innerHTML = controller.solt.get(dataName);
            }
        }
        //深度解析
        parse_directive_salt_extract(elements[i].children, controller);
    }
}
