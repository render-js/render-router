import { tag_unknown_check } from "../../../system/recorder/table2/system_func_2";
/**
 *
 * @param nodes
 * @param data
 */
export function parse_directive_bind(nodes, data) {
    for (var i = 0; i < nodes.length; i++) {
        //对系统元素进行属性绑定
        if (!tag_unknown_check(nodes[i].nodeName)) {
            var attributes = nodes[i].getAttributeNames();
            for (var j = 0; j < attributes.length; j++) {
                var result = attributes[j].match(/^@bind:([a-z]+)$/g);
                if (result === null) {
                }
                else {
                    for (var k = 0; k < result.length; k++) {
                        var property = result[k].substring(6);
                        var dataName = nodes[i].getAttribute(result[k]);
                        nodes[i].removeAttribute(result[k]);
                        try {
                            nodes[i].setAttribute(property, data[dataName]);
                        }
                        catch (e) {
                            console.error(e.message);
                        }
                    }
                }
            }
            parse_directive_bind(nodes[i].children, data);
        }
    }
}
